#set table style
STtag6<- theme_zebra(STtag6, odd_header="#4472c4", odd_body ="#d9e2f3", even_header="transparent", even_body="transparent")
STtag6<- border_outer(STtag6, part="all", border= bord)
STtag6<- border_inner(STtag6, part="body", border=bord)
STtag6<- align(STtag6, align = "center", part = "all")
#print table
STtag6
#pipe data to table and give caption
STtag6<- STtag6%>%
flextable() %>%
set_caption(caption = "Table 5. Hatchery Steelhead acoustic tagged during this report period.") %>%
font(fontname = "Times New Roman", part = "all") %>%
fontsize(size = 11, part = "body") %>%
width(width = .75)
study<- paste("Steelhead_", WY, sep = "")
#Select studies to look at
# tagst<-tag[which(tag$StudyID==study),]
# st1<-s[which(s$StudyID==study),]
# st1$DateTagged<- gsub("16:00:00", "",st1$DateTagged)
# st1<-  arrange(st1, DateTagged)
# stwk1<- paste(str_trim(st1[1,2]))
#stwk2<- paste(str_trim(st1[3,2]))
#stwk3<- paste(str_trim(st1[5,2]))
tagst<- read.csv("/Users/jessefrey/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tagged_Fish_Metadata_SJ_2024.csv")
#collect day vars
st2<-unique(tagst[,c("StudyID","Fish_Type","Raceway", "Rel_loc","DateTagged","Rel_datetime")])
#add fish number to count fish
tagst$fish_number<-1
#Create summary table
STtag_table<- plyr::ddply(tagst, .(Raceway, DateTagged), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length))
#Set decimal place to 2
STtag4<-as.data.frame(lapply(STtag_table[sapply(STtag_table, is.numeric)], round, 2))
#Add back in rel datetime row
STtag4$DateTagged<-STtag_table$DateTagged
STtag5<-merge(STtag4,st2)
STtag5<-STtag5[order(STtag5$Rel_datetime),]
#Reduced table for report
STtag6<-STtag5[,c("StudyID", "Fish_Type", "Rel_loc", "Raceway", "count", "Rel_datetime", "meanW", "meanL")]
names(STtag6)[names(STtag6)=="Rel_loc"]<-"Release Loc"
names(STtag6)[names(STtag6)=="count"]<-"Count"
names(STtag6)[names(STtag6)=="Rel_datetime"]<-"Release Date"
names(STtag6)[names(STtag6)=="meanW"]<-"Avg Weight"
names(STtag6)[names(STtag6)=="meanL"]<-"Avg Length"
names(STtag6)[names(STtag6)=="Fish_Type"]<-"Fish Type"
sttotal<- sum(STtag6$Count)
View(STtag6)
#pipe data to table and give caption
STtag6<- STtag6%>%
flextable() %>%
set_caption(caption = "Table 5. Hatchery Steelhead acoustic tagged during this report period.") %>%
font(fontname = "Times New Roman", part = "all") %>%
fontsize(size = 11, part = "body") %>%
width(width = .75)
#set table style
STtag6<- theme_zebra(STtag6, odd_header="#4472c4", odd_body ="#d9e2f3", even_header="transparent", even_body="transparent")
STtag6<- border_outer(STtag6, part="all", border= bord)
STtag6<- border_inner(STtag6, part="body", border=bord)
STtag6<- align(STtag6, align = "center", part = "all")
#print table
STtag6
View(STtag_table)
View(STtag4)
View(STtag5)
View(tagst)
study<- paste("Steelhead_", WY, sep = "")
#Select studies to look at
# tagst<-tag[which(tag$StudyID==study),]
# st1<-s[which(s$StudyID==study),]
# st1$DateTagged<- gsub("16:00:00", "",st1$DateTagged)
# st1<-  arrange(st1, DateTagged)
# stwk1<- paste(str_trim(st1[1,2]))
#stwk2<- paste(str_trim(st1[3,2]))
#stwk3<- paste(str_trim(st1[5,2]))
tagst<- read.csv("/Users/jessefrey/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tagged_Fish_Metadata_SJ_2024.csv")
#collect day vars
st2<-unique(tagst[,c("StudyID","Fish_Type","Raceway", "Rel_loc","DateTagged","Rel_datetime")])
#add fish number to count fish
tagst$fish_number<-1
#Create summary table
STtag_table<- plyr::ddply(tagst, .(Raceway, Rel_group), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length))
#Set decimal place to 2
STtag4<-as.data.frame(lapply(STtag_table[sapply(STtag_table, is.numeric)], round, 2))
#Add back in rel datetime row
STtag4$DateTagged<-STtag_table$DateTagged
STtag5<-merge(STtag4,st2)
STtag5<-STtag5[order(STtag5$Rel_datetime),]
#Reduced table for report
STtag6<-STtag5[,c("StudyID", "Fish_Type", "Rel_loc", "Raceway", "count", "Rel_datetime", "meanW", "meanL")]
names(STtag6)[names(STtag6)=="Rel_loc"]<-"Release Loc"
names(STtag6)[names(STtag6)=="count"]<-"Count"
names(STtag6)[names(STtag6)=="Rel_datetime"]<-"Release Date"
names(STtag6)[names(STtag6)=="meanW"]<-"Avg Weight"
names(STtag6)[names(STtag6)=="meanL"]<-"Avg Length"
names(STtag6)[names(STtag6)=="Fish_Type"]<-"Fish Type"
sttotal<- sum(STtag6$Count)
#pipe data to table and give caption
STtag6<- STtag6%>%
flextable() %>%
set_caption(caption = "Table 5. Hatchery Steelhead acoustic tagged during this report period.") %>%
font(fontname = "Times New Roman", part = "all") %>%
fontsize(size = 11, part = "body") %>%
width(width = .75)
#set table style
STtag6<- theme_zebra(STtag6, odd_header="#4472c4", odd_body ="#d9e2f3", even_header="transparent", even_body="transparent")
STtag6<- border_outer(STtag6, part="all", border= bord)
STtag6<- border_inner(STtag6, part="body", border=bord)
STtag6<- align(STtag6, align = "center", part = "all")
#print table
STtag6
View(STtag_table)
View(SStag4)
STtag_table<- plyr::ddply(tagst, .(Raceway, Rel_group), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length))
#Set decimal place to 2
STtag4<-as.data.frame(lapply(STtag_table[sapply(STtag_table, is.numeric)], round, 2))
#Add back in rel datetime row
STtag4$DateTagged<-STtag_table$DateTagged
#Set decimal place to 2
STtag4<-as.data.frame(lapply(STtag_table[sapply(STtag_table, is.numeric)], round, 2))
View(SStag4)
View(SStag_table)
View(st2)
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol, each = 2))
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol))
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol, each = 1))
#Add back in rel datetime row
newcol<- c("3/19/24", "3/20/24", "3/21/24")
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol, each = 1))
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol))
?rep
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol, 3))
STtag5<-merge(STtag4,st2)
STtag5<-STtag5[order(STtag5$Rel_datetime),]
#Reduced table for report
STtag6<-STtag5[,c("StudyID", "Fish_Type", "Rel_loc", "Raceway", "count", "Rel_datetime", "meanW", "meanL")]
names(STtag6)[names(STtag6)=="Rel_loc"]<-"Release Loc"
names(STtag6)[names(STtag6)=="count"]<-"Count"
names(STtag6)[names(STtag6)=="Rel_datetime"]<-"Release Date"
names(STtag6)[names(STtag6)=="meanW"]<-"Avg Weight"
names(STtag6)[names(STtag6)=="meanL"]<-"Avg Length"
names(STtag6)[names(STtag6)=="Fish_Type"]<-"Fish Type"
sttotal<- sum(STtag6$Count)
#pipe data to table and give caption
STtag6<- STtag6%>%
flextable() %>%
set_caption(caption = "Table 5. Hatchery Steelhead acoustic tagged during this report period.") %>%
font(fontname = "Times New Roman", part = "all") %>%
fontsize(size = 11, part = "body") %>%
width(width = .75)
#set table style
STtag6<- theme_zebra(STtag6, odd_header="#4472c4", odd_body ="#d9e2f3", even_header="transparent", even_body="transparent")
STtag6<- border_outer(STtag6, part="all", border= bord)
STtag6<- border_inner(STtag6, part="body", border=bord)
STtag6<- align(STtag6, align = "center", part = "all")
#print table
STtag6
View(STtag6)
###Read in tag start data for all studies
#setwd("~/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tag_Life/StartUpSpecSheets")
# list the folders in this file
#files <- list.files("~/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tag_Life/StartUpSpecSheets/")
# #Number of columns and column names must match exactly for this to work
# data2<-lapply(files, read.table, header=TRUE, sep=",")
# for (i in 1:length(data2)){data2[[i]]<-cbind(data2[[i]],files[i])}
# startup <- do.call("rbind", data2)
#
# startup2<-startup %>%
#   dplyr::rename(studyid = `files[i]`) %>%
#   mutate(Date = as.Date(DateTime, format = "%m/%d/%Y"),
#          studyid = sub("\\..*", "", studyid),
#          PRI_r = round(PRI, digits=0)) %>%
#   select(-c(Notes, PRI))
# #Create warranty life table with all the options for tag model and PRI
# TagModel<-c("SS300","SS400","SS300 bat 392", "SS400 2 bat 379","SS300","SS400","SS300 bat 392", "SS400 2 bat 379","SS400","SS300","SS400","SS300 bat 392", "SS400 2 bat 379")
# PRI_r<-c(3,3,3,3,5,5,5,5,8,10,10,10,10)
# warranty_life<-c(23, 48, 79, 108, 37, 71, 128, 159, 90, 68, 111, 238, 247)
# warranty<-data.frame(TagModel, PRI_r, warranty_life)
#
# #Add warranty life and warranty date to startup table
# startup3<-left_join(startup2, warranty) %>%
#   mutate(warranty_date = Date + warranty_life) %>%
#   dplyr::rename(start_date = Date)
#
# #write.csv(startup3, "~/Desktop/BORSemiAnnualReportQ3Q4DESK/Tag_Life/Tag_Lifestartup.csv")
startup<- read.csv("~/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tag_Life/StartUpSpecSheets/tag_life_tags.csv") #got lazy and made one sheet with RR varnames
startup <- startup[,1:10]
startup<- startup %>%
mutate(date = as.Date(startup$start_date, format="%m/%d/%y"))
tagcount<- nrow(startup)
tagdays<- as.data.frame(sort(unique(startup[,"start_date"])))
colnames(tagdays)<- "date"
tagdays<- tagdays %>%
mutate(date = as.Date(tagdays$date, format="%m/%d/%y"))
tagdays$wk<- paste("Week ", row_number(tagdays), sep="")
startup<- left_join(startup, tagdays, by="date")
tl_wk1<- subset(startup, wk == 'Week 1', select = start_date)
tl_wk1<- tl_wk1[1,]
tl_wk2<- subset(startup, wk == 'Week 2', select = start_date)
tl_wk2<- tl_wk2[1,]
tl_wk3<- subset(startup, wk == 'Week 3', select = start_date)
tl_wk3<- tl_wk3[1,]
tl_wk4<- subset(startup, wk == 'Week 4', select = start_date)
tl_wk4<- tl_wk4[1,]
stwk1<- "3/19/2024"
View(STtag5)
View(STtag4)
View(st2)
View(SStag5)
STtag5<-left_join(STtag4,st2)
STtag5<-right_join(STtag4,st2)
View(STtag_table)
?summarize
knitr::opts_knit$set(root.dir = '~/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2')
knitr::opts_chunk$set(echo = params$printcode, message = FALSE)
options(plyr.sigfig=2)
#fork a table of contents format, since word is not latex compatable
devtools::source_gist("c83e078bf8c81b035e32c3fc0cf04ee8",
filename = 'render_toc.R')
# load data access packages
library(odbc) #Read in Access database off of SQL server
library(dataRetrieval)
library(rerddap)
library(dbplyr)
library(DBI) #R database management
#load data manip packages
library(tidyverse)
library(data.table)
library(grid)
library(fs)
library(lubridate)
#load report generation packages
#install.packages(rmarkdown)
library(shiny)
library(rmarkdown) #generate word report
#install.packages(knitr)
library(knitr) #generate word report
#install.packages(flextable)
library(flextable) #format tables
#install.packages("officer") #format tables
library(officer)
#install.packages("officedown")
library(officedown)
library(grid)
library(ggplot2)
library(plotly)
#set border style first time
bord = fp_border(color="#9bb4df", width=1)
set_flextable_defaults(fonts_ignore=TRUE)
#store and format date params
begindatechar<- params$begindate
begindate<- lubridate::mdy(params$begindate)
beginmo<- str_extract(begindatechar, "^.*(?=[[:punct:]])")
enddatechar<- params$enddate
enddate<- mdy(params$enddate)
endmo<- str_extract(enddatechar, "^.*(?=[[:punct:]])")
WY<- str_extract(params$enddate, "\\d{4}")
study<- paste("Seasonal_Survival_", WY, sep = "")
#Select studies to look at
#tagss<-tag[which(tag$StudyID==study),]
tagss<- read.csv("/Users/jessefrey/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tagged_Fish_Metadata_SS_2024.csv")
#s1<-s[which(s$StudyID==study),]
# #cleanup date for week vars
# s1$DateTagged<- gsub("16:00:00", "",s1$DateTagged)
# s1<-  arrange(s1, DateTagged)
# wk1<- paste(str_trim(s1[1,2]))
# wk2<- paste(str_trim(s1[3,2]))
# wk3<- paste(str_trim(s1[5,2]))
# wk4<- paste(str_trim(s1[7,2]))
wk1<- "12/05/2023"
wk2<- "1/30/2024"
wk3<- "2/20/2024"
wk4<- "3/13/2024"
#collect day vars
s2<-unique(tagss[,c("StudyID","Fish_Type","Raceway", "Rel_loc","DateTagged","Rel_datetime")])
#add fish number to count fish
tagss$fish_number<-1
#Create summary table
SStag_table<- plyr::ddply(tagss, .(Raceway, DateTagged), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length))
View(SStag_table)
knitr::opts_knit$set(root.dir = '~/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2')
knitr::opts_chunk$set(echo = params$printcode, message = FALSE)
#fork a table of contents format, since word is not latex compatable
devtools::source_gist("c83e078bf8c81b035e32c3fc0cf04ee8",
filename = 'render_toc.R')
# load data access packages
library(odbc) #Read in Access database off of SQL server
library(dataRetrieval)
library(rerddap)
library(dbplyr)
library(DBI) #R database management
#load data manip packages
library(tidyverse)
library(data.table)
library(grid)
library(fs)
library(lubridate)
#load report generation packages
#install.packages(rmarkdown)
library(shiny)
library(rmarkdown) #generate word report
#install.packages(knitr)
library(knitr) #generate word report
#install.packages(flextable)
library(flextable) #format tables
#install.packages("officer") #format tables
library(officer)
#install.packages("officedown")
library(officedown)
library(grid)
library(ggplot2)
library(plotly)
#set border style first time
bord = fp_border(color="#9bb4df", width=1)
set_flextable_defaults(fonts_ignore=TRUE)
#store and format date params
begindatechar<- params$begindate
begindate<- lubridate::mdy(params$begindate)
beginmo<- str_extract(begindatechar, "^.*(?=[[:punct:]])")
enddatechar<- params$enddate
enddate<- mdy(params$enddate)
endmo<- str_extract(enddatechar, "^.*(?=[[:punct:]])")
WY<- str_extract(params$enddate, "\\d{4}")
options(plyr.sigfig=2)
#Create summary table
SStag_table<- plyr::ddply(tagss, .(Raceway, DateTagged), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length))
#Create summary table
SStag_table<- plyr::ddply(tagss, .(Raceway, DateTagged), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length)) %>%
dplyr::mutate_if(is.numeric, format, 2)
View(tagss)
study<- paste("Seasonal_Survival_", WY, sep = "")
knitr::opts_knit$set(root.dir = '~/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2')
knitr::opts_chunk$set(echo = params$printcode, message = FALSE)
#fork a table of contents format, since word is not latex compatable
devtools::source_gist("c83e078bf8c81b035e32c3fc0cf04ee8",
filename = 'render_toc.R')
# load data access packages
library(odbc) #Read in Access database off of SQL server
library(dataRetrieval)
library(rerddap)
library(dbplyr)
library(DBI) #R database management
#load data manip packages
library(tidyverse)
library(data.table)
library(grid)
library(fs)
library(lubridate)
#load report generation packages
#install.packages(rmarkdown)
library(shiny)
library(rmarkdown) #generate word report
#install.packages(knitr)
library(knitr) #generate word report
#install.packages(flextable)
library(flextable) #format tables
#install.packages("officer") #format tables
library(officer)
#install.packages("officedown")
library(officedown)
library(grid)
library(ggplot2)
library(plotly)
#set border style first time
bord = fp_border(color="#9bb4df", width=1)
set_flextable_defaults(fonts_ignore=TRUE)
#store and format date params
begindatechar<- params$begindate
begindate<- lubridate::mdy(params$begindate)
beginmo<- str_extract(begindatechar, "^.*(?=[[:punct:]])")
enddatechar<- params$enddate
enddate<- mdy(params$enddate)
endmo<- str_extract(enddatechar, "^.*(?=[[:punct:]])")
WY<- str_extract(params$enddate, "\\d{4}")
study<- paste("Seasonal_Survival_", WY, sep = "")
#Select studies to look at
#tagss<-tag[which(tag$StudyID==study),]
tagss<- read.csv("/Users/jessefrey/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tagged_Fish_Metadata_SS_2024.csv")
wk1<- "12/05/2023"
wk2<- "1/30/2024"
wk3<- "2/20/2024"
wk4<- "3/13/2024"
#collect day vars
s2<-unique(tagss[,c("StudyID","Fish_Type","Raceway", "Rel_loc","DateTagged","Rel_datetime")])
#add fish number to count fish
tagss$fish_number<-1
#Create summary table
SStag_table<- plyr::ddply(tagss, .(Raceway, DateTagged), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length)) %>%
dplyr::mutate_if(is.numeric, format, 2)
View(SStag_table)
#Create summary table
SStag_table<- plyr::ddply(tagss, .(Raceway, DateTagged), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length)) %>%
as.numeric(meanW, meanL, SD_W, SD_L, min_W, min_L, max_W, max_L) %>%
dplyr::mutate_if(is.numeric, format, 2)
#Create summary table
SStag_table<- plyr::ddply(tagss, .(Raceway, DateTagged), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length)) %>%
as.numeric("meanW", "meanL", "SD_W", "SD_L", "min_W", "min_L", "max_W", "max_L") %>%
dplyr::mutate_if(is.numeric, format, 2)
study<- paste("Steelhead_", WY, sep = "")
#Select studies to look at
# tagst<-tag[which(tag$StudyID==study),]
# st1<-s[which(s$StudyID==study),]
# st1$DateTagged<- gsub("16:00:00", "",st1$DateTagged)
# st1<-  arrange(st1, DateTagged)
# stwk1<- paste(str_trim(st1[1,2]))
#stwk2<- paste(str_trim(st1[3,2]))
#stwk3<- paste(str_trim(st1[5,2]))
stwk1<- "3/19/2024"
tagst<- read.csv("/Users/jessefrey/Desktop/BORSemiAnnualReport/BORSemiAnn2024Q1-2/Tagged_Fish_Metadata_SJ_2024.csv")
#collect day vars
st2<-unique(tagst[,c("StudyID","Fish_Type","Raceway", "Rel_loc","DateTagged","Rel_datetime")])
#add fish number to count fish
tagst$fish_number<-1
#Create summary table
STtag_table<- plyr::ddply(tagst, .(Raceway, Rel_group), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length))
#Set decimal place to 2
STtag4<-as.data.frame(lapply(STtag_table[sapply(STtag_table, is.numeric)], round, 2))
#Add back in rel datetime row
newcol<- c("3/19/24", "3/20/24", "3/21/24")
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol, 3))
View(STtag4)
View(STtag_table)
STtag5<-merge(STtag4,st2, by ="meanW")
#collect day vars
st2<-unique(tagst[,c("StudyID","Fish_Type","Raceway", "Rel_loc","DateTagged","Rel_datetime", "Rel_group")])
#add fish number to count fish
tagst$fish_number<-1
#Create summary table
STtag_table<- plyr::ddply(tagst, .(Raceway, Rel_group), summarise, count=sum(fish_number),
meanW=mean(Weight), meanL=mean(Length),
SD_W=sd(Weight), SD_L=sd(Length), min_W=min(Weight), min_L=min(Length),
max_W=max(Weight), max_L=max(Length))
#Set decimal place to 2
STtag4<-as.data.frame(lapply(STtag_table[sapply(STtag_table, is.numeric)], round, 2))
#Add back in rel datetime row
newcol<- c("3/19/24", "3/20/24", "3/21/24")
STtag4 <- dplyr::mutate(STtag4, DateTagged = rep(newcol, 3))
View(st2)
View(tagst)
View(st2)
STtag5<-left_join(STtag4,STtag_table)
View(STtag5)
STtag5<-left_join(STtag4,STtag_table, by = ("count", "min_L"))
STtag5<-merge(STtag4,STtag_table, by = ("count", "min_L"))
STtag5<-left_join(STtag4,STtag_table, by = ("min_L"))
STtag5<-left_join(STtag_table,STtag4 by = ("min_L"))
STtag5<-merge(STtag_table,STtag4 by = ("min_L"))
STtag5<-right_join(STtag_table,STtag4 by = ("min_L"))
?bind_cols
STtag5<-left_join(STtag_table,STtag4 by = ("min_L"))
STtag4<-STtag4[order(STtag4$min_L),]
STtag5<-STtag_table[,c("Raceway", "Rel_group","minL", "count")]
STtag5<-STtag_table[,c("Raceway", "Rel_group","min_L", "count")]
STtag5<-STtag5[order(STtag5$min_L),]
STtag5<- bind)cols(STtag5, STtag4)
STtag5<- bind_cols(STtag5, STtag4)
View(STtag5)
View(st2)
View(STtag5)
#Reduced table for report
STtag6<-STtag5[,c("Fish_Type", "Rel_loc", "Raceway", "count", "Rel_datetime", "meanW", "meanL")]
STtag5<-STtag_table[,c("Raceway", "Rel_group","min_L..3", "count")]
#Reduced table for report
STtag6<-STtag5[,c("Fish_Type", "Rel_loc", "Raceway", "count", "DateTagged", "meanW", "meanL")]
#Reduced table for report
STtag6<-STtag5[,c("Rel_loc", "Raceway", "count", "DateTagged", "meanW", "meanL")]
#Reduced table for report
STtag6<-STtag5[,c("Rel_group", "Raceway", "count", "DateTagged", "meanW", "meanL")]
#Reduced table for report
STtag6<-STtag5[,c("Rel_group", "Raceway", "count..4", "DateTagged", "meanW", "meanL")]
#Reduced table for report
STtag6<-STtag5[,c("Rel_group", "Raceway", "count...4", "DateTagged", "meanW", "meanL")]
?join
STtag6<- join(STtag6, st2)
STtag6<-STtag6[,c("StudyID", "Fish_Type", "Rel_loc", "Raceway", "count", "Rel_datetime", "meanW", "meanL")]
STtag6 %>% dplyr::rename("count" = "count...4")
STtag6<- STtag6 %>% dplyr::rename("count" = "count...4")
STtag6<-STtag6[,c("StudyID", "Fish_Type", "Rel_loc", "Raceway", "count", "Rel_datetime", "meanW", "meanL")]
names(STtag6)[names(STtag6)=="Rel_loc"]<-"Release Loc"
names(STtag6)[names(STtag6)=="count"]<-"Count"
names(STtag6)[names(STtag6)=="Rel_datetime"]<-"Release Date"
names(STtag6)[names(STtag6)=="meanW"]<-"Avg Weight"
names(STtag6)[names(STtag6)=="meanL"]<-"Avg Length"
sttotal<- sum(STtag6$Count)
